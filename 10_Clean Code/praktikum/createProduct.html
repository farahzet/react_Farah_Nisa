<!DOCTYPE html>
<html>
<head>
	<title>CreateProduct</title>
</head>
<body>
	<h2>Create Product</h2>
	<section>
		<form action="needs-validation" method="post" novalidate
		>
			<h3>Detail Product</h3>
			<div>
				<label for="namaproduk">Product Name :</label></br>
				<input type="text" id="namaproduk" name="namaproduk" required maxlength="10" ><br>
				<div class="invalid-feedback">
					Last Name must not exceed 25 characters
				</div>
			</div>
			<div>
				<label for="kategori">Product Category :</label><br>
				<input list="jenis" id="kategori" name="kategori">
				<datalist id="jenis">
					<option value="Clothes">
					<option value="T-shirt">
					<option value="Skirt">
				</datalist><br>
			</div>
			<div>
				Product Freshness :
				</br><input type="radio" id="BrandNew" name="baru" value="Brand New">
					<label for="BrandNew">Brand New</label><br>
		    		<input type="radio" id="SecondHank" name="baru" value="Second Hank">
					<label for="SecondHank">Second Hank</label><br>
					<input type="radio" id="refurbished" name="baru" value="Refurbished">
					<label for="refurbished">Refurbished</label><br>
			</div>
			<div>
				Image of Product <input type='file' name='foto' /><br>
			</div>
			<div>
				Additional Description<br>
				<textarea id="deskripsi" name="deskripsi" rows="5" cols="30"></textarea><br>
			</div>
			<div>
				<label for="hargaproduk">Product Price :</label></br>
				<input type="text" id="hargaproduk" name="hargaproduk" placeholder="$100" required pattern="[0-9]+(\.[0-9]{2})?"><br>
			</div>
			<br><input type="submit" value="Submit">

		</form>
		
	</section>
</body>

<script type="text/javascript">
	const btn_submit = document.querySelector('#btn_submit')
	btn_submit.addEventListener("click", (e) => {
	   // console.log("yoo");

		e.preventDefault();

		var firstName = document.getElementById("First").value;
	    var lastName = document.getElementById("Last").value;
		var username = document.getElementById("uname").value;
	    var email = document.getElementById("email").value;
	    var gender = document.querySelector('input[name="flexRadioDefault"]:checked').value;
	    var address1 = document.getElementById("address1").value;
	    var address2 = document.getElementById("address2").value;
	    var nationality = document.getElementById("Nationality").value;
	    var checkbox = document.getElementsByName("Language");
	    var Language = " ";
	    for (var i = 0;  i < checkbox.length; i++) {
	    	if (checkbox[i].checked){
	    		Language = Language + checkbox[i].value + ", "
	    	}
	    }
	    if (!firstName || !lastName || !username || !email || !gender || !address1 || !nationality) {
	        console.log("Field cannot be empty");
	        return;
	    }

	    // Membuat objek pengguna
	    var user = {
	        firstName: firstName,
	        lastName: lastName,
	        username: username,
	        email: email,
	        gender: gender,
	        address1: address1,
	        address2: address2,
	        nationality: nationality,
	        Language: Language
	    };

	    // Menambahkan pengguna ke dalam tabel
	    TambahTable(user);


	function TambahTable(user) {
	    var tableBody = document.getElementById("productTableBody");
	    var row = tableBody.insertRow(-1);
	    var cell1 = row.insertCell(0);
	    var cell2 = row.insertCell(1);
	    var cell3 = row.insertCell(2);
	    var cell4 = row.insertCell(3);
	    var cell5 = row.insertCell(4);
	    var cell6 = row.insertCell(5);
	    var cell7 = row.insertCell(6);
	    var cell8 = row.insertCell(7);
	    var cell9 = row.insertCell(8);
	    var cell10 = row.insertCell(9);

	    cell1.innerHTML = tableBody.rows.length - 1;
	    cell2.innerHTML = user.firstName;
	    cell3.innerHTML = user.lastName;
	    cell4.innerHTML = user.username;
	    cell5.innerHTML = user.email;
	    cell6.innerHTML = user.gender;
	    cell7.innerHTML = user.address1;
	    cell8.innerHTML = user.address2;
	    cell9.innerHTML = user.nationality;
	    cell10.innerHTML = user.Language.replace(/,\s*$/, "");
	 }

	})
</script>
</html>